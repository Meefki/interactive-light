<section class="prefab-browser">
    <section class="header">
        <input type="search" name="search" class="search" placeholder="Поиск префаба..." value="{{search}}" data-action="search" />

        <div class="tag-filters tags">
            {{#each allTags}}
            <input class="tag-input-checkbox" type="checkbox" id="prefab-tag-{{../id}}-{{value}}"
                data-prefab-id="{{../id}}" data-id="{{value}}" data-action="selectTag" />
            <label for="prefab-tag-{{../id}}-{{value}}" class="tag-label {{#if (includes @root.activeTags this)}}active{{/if}}"
                style="--tag-color: {{color}};">
                <span class="tag-text">{{value}}</span>
            </label>
            {{/each}}
        </div>
    </section>

    <section class="standard-form prefab-container-form scrollable">
        <fieldset class="prefab-container scrollable">
            {{#if prefabs}}
            <div class="prefab-grid">
                {{!-- grid grid-3col  --}}

                {{#each prefabs}}
                <fieldset class="prefab-card">
                    <input class="prefab-input-checkbox" type="radio" name="prefab" id="{{id}}" data-id="{{id}}"
                        data-action="selectPrefab" />
                    <label for="{{id}}" class="prefab-label">
                        <div class="preview">
                            {{#if preview}}
                            <img src="{{preview}}" alt="{{name}}" />
                            {{else}}
                            <i class="fa-solid fa-lightbulb"></i>
                            {{/if}}
                        </div>

                        <div class="name">
                            <span>{{name}}</span>
                        </div>

                        {{#if tags}}
                        <div class="tags">
                            {{#each tags}}
                            <input class="tag-input-checkbox" type="checkbox" id="prefab-tag-{{../id}}-{{value}}"
                                data-prefab-id="{{../id}}" data-id="{{value}}" data-action="selectTag" />
                            <label for="prefab-tag-{{../id}}-{{value}}" class="tag-label {{#if (includes @root.activeTags this)}}active{{/if}}"
                                style="--tag-color: {{color}};">
                                <span class="tag-text">{{value}}</span>
                            </label>
                            {{/each}}
                        </div>
                        {{/if}}
                    </label>
                </fieldset>
                {{/each}}
            </div>
            {{else}}
            <div>
                <h2>Префабы не найдены</h2>
            </div>
            {{/if}}
        </fieldset>
    </section>

    <section class="footer">
        <button>Delete</button>
        <button data-action="clearFilters">Clear Filters</button>
    </section>
</section>